<%= stylesheet_link_tag "comment", "data-turbo-track": "reload" %>

<article>
        <p><%= usercomment.content %></p>
        <small> by <%= usercomment.user.email %></small>

        <a href="#" class="display-comment-form">Reply</a>
        <div class="ddnone">
            <%= render partial: 'usercomments/form', locals: {message: usercomment.message, parent: usercomment} %>
        </div>
        <hr />
        <div class="child-comment">
           <%= render usercomment.usercomments.order(id: :desc) %>
        </div>

</article>

<script>
    document.querySelectorAll('.display-comment-form').forEach((element) => {
        element.addEventListener('click', (event) => {
            event.preventDefault();
            element.nextElementSibling.style.display = 'block'
        })
    })
</script>
